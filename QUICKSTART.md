# å¿«é€Ÿå¼€å§‹æŒ‡å—

## é¡¹ç›®æ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Zola** é™æ€ç½‘ç«™ç”Ÿæˆå™¨æ„å»ºçš„è¯—æ­Œç½‘ç«™ï¼Œæ”¶å½•äº†è¯—äººæç‘œçš„å®Œæ•´è¯—é›†ã€Šæ±—è¡€é©¬ã€‹ï¼ˆ21ä¸ªç« èŠ‚ï¼Œ101é¦–è¯—æ­Œï¼‰ã€‚

**ç”Ÿäº§ç¯å¢ƒ**: https://liyupoerty.com  
**GitHub ä»“åº“**: https://github.com/lukethecat/lukethecat.github.io

---

## ğŸ”’ éšç§ä¿æŠ¤æç¤º

**âš ï¸ é‡è¦æç¤ºï¼šç¦æ­¢æäº¤ä¸ªäººä¿¡æ¯åˆ° GitHub**

åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œ**ä¸¥ç¦**åŒ…å«ä»¥ä¸‹æ•æ„Ÿä¿¡æ¯ï¼š
- âŒ æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚ `/Users/username/...`ï¼‰
- âŒ çœŸå®é‚®ç®±åœ°å€ï¼ˆä½¿ç”¨ `@username` æˆ– `@example.com` å ä½ç¬¦ï¼‰
- âŒ ä¸ªäººç”µè¯å·ç ã€èº«ä»½è¯å·ã€åœ°å€
- âŒ ä»»ä½• API Keyã€Tokenã€å¯†ç 

**è¿åæ­¤è§„åˆ™å¯èƒ½å¯¼è‡´ä¸ªäººéšç§æ³„éœ²ï¼**

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

#### å®‰è£… Zola (macOS/Linux)

```bash
# ä½¿ç”¨ Homebrew (æ¨è)
brew install zola

# éªŒè¯å®‰è£…
zola --version
```

#### å®‰è£… Git
```bash
# macOS (é€šå¸¸å·²é¢„è£…)
git --version

# å¦‚æœæœªå®‰è£…ï¼Œä½¿ç”¨ Homebrew
brew install git
```

---

### 2. å…‹éš†ä»“åº“

```bash
# å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
git clone https://github.com/lukethecat/lukethecat.github.io.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd liyupoerty.com-master
```

---

### 3. æœ¬åœ°å¼€å‘

#### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨çƒ­é‡è½½å¼€å‘æœåŠ¡å™¨
zola serve

# è®¿é—®: http://127.0.0.1:11000
```

**æœåŠ¡å™¨è¯´æ˜ï¼š**
- **ç«¯å£**: 11000
- **çƒ­é‡è½½**: ä¿®æ”¹æºç åè‡ªåŠ¨åˆ·æ–°
- **è®¿é—®ç»„ä»¶**: æµè§ˆå™¨æ‰“å¼€ `http://localhost:11000`

#### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ–¹æ³•1: ä½¿ç”¨ Make å‘½ä»¤ï¼ˆæ¨èï¼‰
make build

# æ–¹æ³•2: æ‰‹åŠ¨æ„å»º
zola build

# æ„å»ºè¾“å‡ºä¼šç”Ÿæˆåœ¨ public/ ç›®å½•
```

---

### 4. é¡¹ç›®ç»“æ„

```
liyupoerty.com-master/
â”œâ”€â”€ .github/workflows/ci.yml     # GitHub Actions CI/CD é…ç½®
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ config.toml                  # Zola é…ç½®
â”œâ”€â”€ Makefile                     # æ„å»ºè„šæœ¬
â”œâ”€â”€ README.md                    # å®Œæ•´æ–‡æ¡£ï¼ˆå¿…è¯»ï¼ï¼‰
â”œâ”€â”€ QUICKSTART.md                # æœ¬å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ website-maintenance-manual.md # å®Œæ•´ç»´æŠ¤æ‰‹å†Œ
â”œâ”€â”€ content/                     # ç½‘ç«™å†…å®¹ï¼ˆMarkdown æºæ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ _index.md               # é¦–é¡µ
â”‚   â”œâ”€â”€ static/                 # é™æ€é¡µé¢ï¼ˆabout, archiveï¼‰
â”‚   â”œâ”€â”€ 1980/                   # 1980 è¯—é›†
â”‚   â””â”€â”€ 1995hanxuema/           # æ±—è¡€é©¬è¯—é›†ï¼ˆ101é¦–è¯—æ­Œï¼‰
â”‚       â”œâ”€â”€ _index.md          # è¯—é›†å…ƒæ•°æ®
â”‚       â”œâ”€â”€ æ±—è¡€é©¬æç‘œQWENæ ¡å¯¹20260203.md
â”‚       â”œâ”€â”€ å•Š-ä¸­äºšç»†äºšæ–°å¤§é™†/  # 5é¦–è¯—æ­Œ
â”‚       â”œâ”€â”€ ç¥è¿å±±ä¸‹å·²ç»æ²‰å¯‚/   # 6é¦–è¯—æ­Œ
â”‚       â””â”€â”€ [...19ä¸ªç« èŠ‚]       # å…¶ä½™è¯—æ­Œ
â”œâ”€â”€ templates/                  # Zola æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html             # é¦–é¡µæ¨¡æ¿
â”‚   â”œâ”€â”€ section.html           # ç« èŠ‚æ¨¡æ¿
â”‚   â””â”€â”€ page.html              # å†…å®¹é¡µæ¨¡æ¿
â”œâ”€â”€ static/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/                   # æ ·å¼è¡¨
â”‚   â”œâ”€â”€ fonts/                 # å­—ä½“
â”‚   â”œâ”€â”€ images/                # å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ covers/           # ä¹¦ç±å°é¢
â”‚   â”‚   â”‚   â”œâ”€â”€ 1980/         # 1980 è¯—é›†å°é¢
â”‚   â”‚   â”‚   â””â”€â”€ 1995hanxuema/ # æ±—è¡€é©¬å°é¢
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ js/                    # JavaScript
â”œâ”€â”€ helpers/                   # è¾…åŠ©è„šæœ¬
â””â”€â”€ generate_poetry_pages.py   # è‡ªåŠ¨è¯—æ­Œé¡µé¢ç”Ÿæˆå™¨
```

**âš ï¸ é‡è¦ï¼š`public/` ç›®å½•ä¸ä¼šè¢« Git è·Ÿè¸ª**

---

### 5. æ ¸å¿ƒåŠŸèƒ½

#### ç½‘ç«™ç»“æ„
- **ç¬¬1å±‚**: ä¸»é¡µ - è¯—äººä»‹ç»å’Œè¯—é›†åˆ—è¡¨
- **ç¬¬2å±‚**: è¯—é›† - æ±—è¡€é©¬ / 1980å¹´è¯—é›†
- **ç¬¬3å±‚**: ç« èŠ‚ - 21ä¸ªç« èŠ‚ï¼ˆå¦‚"å•Šï¼Œä¸­äºšç»†äºšæ–°å¤§é™†"ï¼‰
- **ç¬¬4å±‚**: è¯—æ­Œ - 101é¦–å•é¦–è¯—æ­Œé¡µé¢

#### åŒ…å«çš„å†…å®¹
- **1980 è¯—é›†**ï¼šæ—©æœŸåˆ›ä½œï¼ˆè‹±æ–‡å’Œä¸­æ–‡èµ„æ–™ï¼‰
- **æ±—è¡€é©¬ è¯—é›†**ï¼ˆæ ¸å¿ƒï¼‰ï¼š21ä¸ªç« èŠ‚ï¼Œ101é¦–è¯—æ­Œ
  - ä¸­äºšã€è¥¿åŸŸã€ä¸ç»¸ä¹‹è·¯ä¸»é¢˜è¯—æ­Œ
  - è¯¦ç»†ç« èŠ‚è§ `README.md`

---

### 6. å¸¸ç”¨å‘½ä»¤

#### æ„å»ºä¸æµ‹è¯•
```bash
# å®Œæ•´æ„å»ºï¼ˆåŒ…æ‹¬ä¼˜åŒ–ï¼‰
make build

# å¿«é€Ÿæ„å»ºï¼ˆä»… Zolaï¼‰
make build-quick

# æ¸…ç†æ„å»ºè¾“å‡º
make clean

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
zola serve

# æŸ¥çœ‹å¸®åŠ©
make help
```

#### Git æ“ä½œ
```bash
# æŸ¥çœ‹ Git çŠ¶æ€
git status

# æŸ¥çœ‹æœ€è¿‘æäº¤
git log --oneline -10

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æäº¤ä»£ç ï¼ˆå¿…é¡»ç»è¿‡æ£€æŸ¥æ¸…å•ï¼ï¼‰
git add .
git commit -m "feat: æè¿°ä½ çš„ä¿®æ”¹"

# æ¨é€ä»£ç 
git push origin main
```

#### ä»£ç æ£€æŸ¥
```bash
# æ£€æŸ¥æ˜¯å¦æœ‰è¢«è·Ÿè¸ªçš„éé¢„æœŸæ–‡ä»¶
git ls-files | grep "public/" && echo "è­¦å‘Šï¼špublic/ è¢«è·Ÿè¸ª"
git ls-files | grep "\.pyc$" && echo "è­¦å‘Šï¼šæœ‰ .pyc æ–‡ä»¶"
```

---

### 7. å‘å¸ƒå‰æ£€æŸ¥æ¸…å•ï¼ˆå¿…åšï¼ï¼‰

æ¯æ¬¡æ¨é€ä»£ç å‰ï¼Œ**å¿…é¡»**æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

#### âœ… ç¬¬1æ­¥ï¼šæ£€æŸ¥ Git çŠ¶æ€
```bash
git status --short
# ç¡®è®¤æ— ï¼š
# - ? (æœªè·Ÿè¸ªæ–‡ä»¶) - é™¤éæ˜ç¡®éœ€è¦
# - ä¿®æ”¹äº†çš„ public/ æ–‡ä»¶
```

#### âœ… ç¬¬2æ­¥ï¼šéšç§ä¿æŠ¤æ£€æŸ¥
```bash
# æ£€æŸ¥æ˜¯å¦åŒ…å«ä¸ªäººè·¯å¾„
grep -r "Documents/" --include="*.md" --include="*.py"

# æ£€æŸ¥æ˜¯å¦åŒ…å«é‚®ä»¶åœ°å€
grep -r "@" --include="*.md" --include="*.py" | grep -v "github.com"
```

**ä¿®å¤æ–¹æ³•**: å¦‚æœå‘ç°ä¸ªäººä¿¡æ¯ï¼Œä½¿ç”¨ `[REDACTED]` æˆ– `@example.com` æ›¿æ¢ã€‚

#### âœ… ç¬¬3æ­¥ï¼šæ„å»ºæµ‹è¯•
```bash
# æ¸…ç†å¹¶é‡å»º
rm -rf public/
zola build

# æ£€æŸ¥
echo "ç”Ÿæˆé¡µé¢æ•°: $(find public/ -name "*.html" | wc -l)"
# åº”è¯¥æœ‰è¶…è¿‡ 100 ä¸ª HTML æ–‡ä»¶
```

#### âœ… ç¬¬4æ­¥ï¼šæœ¬åœ°é¢„è§ˆï¼ˆå¯é€‰ä½†æ¨èï¼‰
```bash
zola serve
# è®¿é—® http://127.0.0.1:11000
# æ£€æŸ¥ï¼š
# - é¦–é¡µæ­£å¸¸æ˜¾ç¤º
# - è¯—æ­Œåˆ—è¡¨å®Œæ•´
# - é“¾æ¥æ—  404 é”™è¯¯
```

#### âœ… ç¬¬5æ­¥ï¼šæäº¤ä¿¡æ¯è§„èŒƒ
```bash
# ç¤ºä¾‹æäº¤
git add .
git commit -m "fix(ci): ä¿®å¤ main åˆ†æ”¯éƒ¨ç½²é…ç½®

- æ›´æ–° GitHub Actions å·¥ä½œæµ
- ä¿®å¤ Cloudflare Pages è§¦å‘æ¡ä»¶
- ç¡®ä¿ push åˆ° main åˆ†æ”¯æ—¶æ­£ç¡®éƒ¨ç½²"
```

**æäº¤ç±»å‹**:
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `refactor`: ä»£ç é‡æ„
- `chore`: ç»´æŠ¤ä»»åŠ¡
- `ci`: CI/CD é…ç½®å˜æ›´

#### âœ… ç¬¬6æ­¥ï¼šæœ€ç»ˆæäº¤æ£€æŸ¥
```bash
# æŸ¥çœ‹å³å°†æäº¤çš„å†…å®¹
git diff --cached

# ç¡®è®¤æ— æ•æ„Ÿä¿¡æ¯
git diff --cached | grep -E "(password|key|token|@username|localhost)"

# ç¡®è®¤æ—  public/ è¢«æäº¤
git diff --cached --name-only | grep "public/" && echo "é”™è¯¯ï¼" || echo "é€šè¿‡æ£€æŸ¥"
```

---

### 8. è‡ªåŠ¨åŒ–éƒ¨ç½²

GitHub Actions é…ç½® (` .github/workflows/ci.yml `)ï¼š

**è§¦å‘æ¡ä»¶**:
- âœ… ä»£ç æ¨é€åˆ° `main` åˆ†æ”¯
- âœ… Pull Request åˆ›å»º
- âœ… æ¯æœˆ 1 æ—¥ 18:00 UTC
- âœ… æ‰‹åŠ¨è§¦å‘

**æ„å»ºæµç¨‹**:
1. å®‰è£…ä¾èµ–ï¼ˆZolaã€gh-statsã€tinysearchï¼‰
2. ç”Ÿæˆ GitHub æ˜Ÿçƒç»Ÿè®¡
3. å›¾ç‰‡æ ¼å¼ä¼˜åŒ–ï¼ˆç”Ÿæˆ .avif/.webpï¼‰
4. æ„å»ºç½‘ç«™ (`make build`)
5. ç”Ÿæˆæœç´¢ç´¢å¼•ï¼ˆTinySearchï¼‰
6. å‹ç¼© JavaScript
7. éƒ¨ç½²åˆ° Cloudflare Pages

---

### 9. æ•…éšœæ’æŸ¥

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| **Zola build å¤±è´¥** | `zola build --verbose` æŸ¥çœ‹è¯¦ç»†é”™è¯¯ |
| **é¡µé¢ 404** | æ£€æŸ¥ç« èŠ‚å‘½åæ˜¯å¦ä¸ `config.toml` åŒ¹é… |
| **å›¾ç‰‡ä¸æ˜¾ç¤º** | æ£€æŸ¥ `static/images/covers/` ç›®å½•ç»“æ„ |
| **Cloudflare æœªæ›´æ–°** | 1. æ£€æŸ¥ GitHub Actions çŠ¶æ€<br>2. ç­‰å¾… CDN ç¼“å­˜åˆ·æ–°ï¼ˆ~5åˆ†é’Ÿï¼‰ |
| **æµè§ˆå™¨ç¼“å­˜** | ä½¿ç”¨éšèº«æ¨¡å¼æˆ–æ¸…é™¤ç¼“å­˜è®¿é—® |

**é«˜çº§è°ƒè¯•**:
```bash
# æŸ¥çœ‹æ„å»ºæ—¥å¿—
zola build --verbose

# æ£€æŸ¥ Git çŠ¶æ€
git log --oneline
git status

# éªŒè¯ Git å†å²
git log --stat --oneline | grep "public/" | wc -l
# åº”è¯¥ä¸º 0
```

---

### 10. å¸¸è§é—®é¢˜è§£ç­”

#### Q: å¦‚ä½•æ·»åŠ æ–°çš„è¯—æ­Œï¼Ÿ
A: ä½¿ç”¨ `generate_poetry_pages.py` è„šæœ¬æ‰¹é‡ç”Ÿæˆï¼Œæˆ–è€…æ‰‹åŠ¨åœ¨ `content/` ç›®å½•ä¸‹åˆ›å»º `.md` æ–‡ä»¶ã€‚

#### Q: ä¹¦ç±å°é¢å¦‚ä½•æ·»åŠ ï¼Ÿ
A: å°†å°é¢å›¾ç‰‡ï¼ˆå»ºè®® 400x600pxï¼‰ä¿å­˜ä¸º `static/images/covers/1995hanxuema/cover.jpg`ã€‚

#### Q: æœ¬åœ°å¼€å‘ç«¯å£å†²çªï¼Ÿ
A: ä¿®æ”¹ `zola serve` æ—¶æŒ‡å®šç«¯å£ï¼š
   ```bash
   zola serve --port 0  # ä½¿ç”¨ç©ºé—²ç«¯å£
   ```

#### Q: å¦‚ä½•æ›´æ–°è¯—æ­Œå†…å®¹ï¼Ÿ
A: ç¼–è¾‘ `content/1995hanxuema/è¯—æ­Œå.md` æ–‡ä»¶ï¼ŒZola ä¼šè‡ªåŠ¨çƒ­é‡è½½ï¼ˆéœ€åœ¨ serve æ¨¡å¼ä¸‹ï¼‰ã€‚

---

### 11. æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºè§£å†³ï¼š

1. ğŸ“– **é˜…è¯»æ–‡æ¡£**: `README.md` æˆ– `website-maintenance-manual.md`
2. ğŸ” **æ£€æŸ¥æ—¥å¿—**: æŸ¥çœ‹ç»ˆç«¯/å‘½ä»¤è¡Œé”™è¯¯ä¿¡æ¯
3. ğŸ‘€ **æŸ¥çœ‹ CI**: GitHub Actions æ„å»ºæ—¥å¿—
4. ğŸ› **æäº¤ Issue**: åœ¨ GitHub Issues ä¸­è¯¦ç»†æè¿°

**è”ç³»**:
- é¡¹ç›® GitHub: https://github.com/lukethecat/lukethecat.github.io
- ç”Ÿäº§ç½‘ç«™: https://liyupoerty.com

---

### 12. æˆæƒä¸è®¸å¯

**ğŸ“– ç‰ˆæƒä¿¡æ¯**
- **ä½œè€…**: æç‘œ
- **è¯—æ­Œç‰ˆæƒ**: 1995å¹´è¯—é›† Â© æç‘œ ç‰ˆæƒæ‰€æœ‰
- **ç½‘ç«™ä»£ç **: MIT è®¸å¯è¯ï¼ˆå¼€æºï¼‰
- **å…è´£**: æœ¬é¡¹ç›®ä»£ç å¯è‡ªç”±ä½¿ç”¨ï¼Œä½†è¯—æ­Œå†…å®¹éœ€è·å¾—ä½œè€…æˆæƒ

---

### 13. ç‰ˆæœ¬ä¿¡æ¯

- **å½“å‰ç‰ˆæœ¬**: v1.1
- **æ›´æ–°æ—¥æœŸ**: 2026-02-04
- **æ§åˆ¶å˜æ›´**: 
  - v1.1: æ›´æ–°å‘å¸ƒå‰æ£€æŸ¥æ¸…å•ï¼Œå¼ºè°ƒéšç§ä¿æŠ¤
  - v1.0: åˆå§‹ç‰ˆæœ¬

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… **é˜…è¯»å®Œæ•´æ–‡æ¡£**: æŸ¥çœ‹ `README.md` è·å–è¯¦ç»†è¯´æ˜
2. âœ… **æµ‹è¯•æ„å»º**: è¿è¡Œ `zola build` ç¡®è®¤ä¸€åˆ‡æ­£å¸¸
3. âœ… **å¯åŠ¨å¼€å‘**: `zola serve` å¹¶è®¿é—® http://127.0.0.1:11000
4. âœ… **å¼€å§‹ç¼–è¾‘**: ä¿®æ”¹è¯—æ­Œå†…å®¹æˆ–æ¨¡æ¿
5. âœ… **æäº¤ä»£ç **: **åŠ¡å¿…**å®Œæˆå‘å¸ƒå‰æ£€æŸ¥æ¸…å•

---

**âš ï¸ é‡è¦æé†’**: 
> æ¯æ¬¡ä¿®æ”¹åï¼Œè¯·åŒæ­¥æ›´æ–° `README.md` å’Œ `website-maintenance-manual.md`ã€‚
> ä¿æŠ¤ä¸ªäººéšç§ï¼Œåˆ‡å‹¿æäº¤ä»»ä½•ä¸ªäººä¿¡æ¯åˆ° GitHubï¼
